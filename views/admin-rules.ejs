<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - Welldoers</title>
    <link rel="stylesheet" href="/styles/global.css" />
    <link rel="stylesheet" href="/styles/admin-panel/admin.css" />
    <link rel="stylesheet" href="/styles/admin-panel/admin-header.css" />
    <link rel="stylesheet" href="/styles/admin-panel/admin-rules.css" />
    <link rel="stylesheet" href="/styles/admin-panel/admin-global.css" />
  </head>
  <body>
    <form method="POST" action="/logout">
      <button type="submit" class="logout">
        <img src="/img/icon-sign-out.svg" alt="" />
      </button>
    </form>
    <div class="dashboard">
      <%- include('partials/admin-menu') %>
      <div class="content">
        <h1 class="main-heading">Rules</h1>
        <form action="/admin/rules/update" method="POST" class="rules-form">
          <% Object.values(data.rules).forEach((rule, index) => { %>
          <div class="current_rule" id="rule<%= index %>">
            <input type="text" name="rule" value="<%= rule %>" />
            <button
              type="button"
              class="delete-rule button1"
              onclick="deleteRule('rule<%= index %>', 'delete-rule<%= index %>')"
            >
              Delete
            </button>
          </div>
          <% }) %>
        </form>
        <div class="action_buttons">
          <button class="button1 add" type="button" onclick="addRule()">
            Add rule
          </button>
          <button class="button1 save" type="submit" onclick="submitForm()">
            Save
          </button>
        </div>
      </div>
    </div>
    <script>
      function submitForm() {
        document.querySelector(".rules-form").submit();
      }
    </script>
    <script src="/JS/adminRules.js"></script>
    <script src="/JS/adminMobileHeader.js"></script>
  </body>
</html>
